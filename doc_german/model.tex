\section{Datenmodell}
\label{datenmodell}

Die Datenstruktur kann in einem einfach gehaltenen \textit{UML-Klassendiagramm} dargestellt werden. Im Wesentlichen enthält  die Basis-Entität \texttt{Reference}  grundlegendene Container-Attribute, die wiederum mit Informationen angereichert wurden. Die Datenstruktur wird in diesem Kapitel kurz erläutert.

\tikzumlset{fill class=red!20, fill template=violet!10, font=\tiny} 
\begin{tikzpicture} 
  \begin{umlpackage}[x=0,y=0]{Geo} 
    \umlclass[x=0,y=9]{Reference}{ 
      + location : Geo::OSM::Location \\ + discoveries : Geo::Discovery::Base[] \\ + additional\_fields : String[][]
      }{} 
      \begin{umlpackage}[x=4,y=8.1]{OSM} 
        \umlclass[x=0,y=0]{Location}{}{
          + node\_id : int \\ + human\_readable\_name : String  \\ + administrative\_level : int \\ + additional\_fields : String[][]
        }
      \end{umlpackage}
      \begin{umlpackage}[x=0,y=0]{Discovery} 
        \umlclass[x=1.5,y=5.6]{Base}{ 
          + source : Source \\ + time : Time  \\ + locator : Locator \\ + additional\_fields : String[][]
          }{} 
        \umlclass[x=0,y=2]{Source}{ 
          + identifier : String \\ + trustworthiness : int  \\ + additional\_fields : String[][]
          }{} 
        \umlclass[x=3,y=2]{Time}{ 
          + representation : String \\ + estimated\_precision : int  \\ + additional\_fields : String[][]
          }{} 
        \umlclass[x=1.5,y=-0.45]{Locator}{ 
          + url : String \\ + byte\_offset : int  \\ + timestamp : DateTime \\ + proof : String \\ + additional\_fields : String[][]
          }{} 
      \end{umlpackage} 
  \end{umlpackage} 
  \umlunicompo[pos1=-0.1,arg1=location,mult1=1,mult2=1,pos2=0.95]{Reference}{Location} 
  \umluniaggreg[arg1=discoveries,mult1=1,mult2=*,pos2=0.8]{Reference}{Base} 

  \umlunicompo[arg1=source,pos1=0.4, mult2=1,pos2=0.8]{Base}{Source} 
  \umlunicompo[arg1=locator, pos1=0.185, mult2=1,pos2=0.95]{Base}{Locator} 
  \umlunicompo[arg1=time, pos1=0.2, mult2=1,pos2=0.8]{Base}{Time} 
\end{tikzpicture}

Den übergeordneten Datencontainer bildet die \texttt{Reference}-Klasse, sie hält zwei Attribute: Das \texttt{location}-Attribut hält eine Instanz der \texttt{OSM::Location}-Klasse, das \texttt{discoveries}-Attribut hält eine Liste von \texttt{Discovery}-Instanzen vor. Eine Georeferenz, also eine Instanz der hier beschriebenen  \texttt{Reference}-Klasse, liefert dementsprechend einen Verweis auf einen geografischen, real existierenden Ort auf der Welt und eine Liste von Hinweisen, wie und wo diese Referenz durch etwaige Suchalgorithmen gefunden und in den entsprechend referenziert wurde.

Die \texttt{OSM::Location}-Instanz stellt eine stark vereinfachte Abstraktion einer OpenStreetMaps \texttt{Node}\cite{OSMnode} dar. Im OpenStreetMaps-Datenmodell repräsentieren Nodes einen distinkten Punkt, der innerhalb von OpenStreetMaps einzigartig ist und mit Positionsdaten versehen ist. In unserem Datenmodell sind die exakten Geokoordinaten nicht von essentieller Wichtigkeit (weil der Fokus eher auf Städten, Regionen oder Ländern liegt, wichtig ist uns die Bennenbarkeit eines Ortes, nicht die Lage), daher persistieren wir in der \texttt{OSM::Location}-Instanz lediglich die \texttt{node\_id}, einen menschenlesbaren Namen (Attribut \texttt{human\_readable\_name}) und den \textit{Administration-Level}-Wert von OpenStreetMaps\cite{OSMadminlevel} (Attribut \texttt{administrative\_level}). Mit dieser Angabe kann bestimmt werden, ob es sich bei der benannten Georeferenz etwa um einen Kontinent, einen Staat, ein Bundesland oder eine Stadt handelt.

Weiterhin enthält die \texttt{Reference}-Klasse wie erwähnt eine Liste von \texttt{Discovery}-Instanzen. In einer \texttt{Discovery}-Instanz wird festgehalten, \textit{wo} (Attribut: \texttt{source}, Instanz einer \texttt{Discovery::Source}-Klasse) und in welchem \textit{zeitlichen Rahmen} (Attribut \texttt{time}, Instanz einer \texttt{Discovery::Time}-Klasse) diese Georeferenz an dem durch die \texttt{OSM::Location}-Klasse konkret festgelegten Ort referenziert wird. Weiterhin gibt es eine \texttt{Discovery::Locator}-Klasse, die die Rückverfolgbarkeit der Quelle sicherstellt. Die einzelnen Discovery-Komponenten werden im Folgenden noch genauer geschrieben.

Die \texttt{Discovery::Source}-Klasse ist ein Container für zwei Attribute: Zum einen hält ein \texttt{identifier} eine Referenz auf eine konkrete Datenquelle vor, beispielsweise \textit{dbp} für DBpedia. Zum anderen hält der \texttt{trustworthiness}-Wert eine Einschätzung für die Zuverlässigkeit der Quelle vor. Beide Attribute ergeben sich aus dem Anwendungsfall und müssen pro Durchgang konfigurierbar gehalten sein. Der \texttt{trustworthiness}-Wert enthält Werte einer Likert-Skala (von "Sehr vertrauenswürdig" bis "Nahezu nicht vertrauenswürdig"), intern können die Werte dieser Skala auf Ganzzahlen (oder Enumeration-Werte) abgebildet werden, allerdings verbietet sich das Rechnen auf Likert-Zahlen.

Die \texttt{Discovery::Time}-Klasse ist ein Container für die beiden Attribute \texttt{representation} und \texttt{estimated\_precision}. Der erste Wert gibt eine konkrete, wörtliche Fundstelle einer Zeitangabe wieder (also beispielsweise "1990ies", "1997" oder "1990-1996"). Der zweite Wert gibt auf einer Likert-Skala (von "sehr präzise" bis "sehr unpräzise") eine Einschätzung über die Genauigkeit der Zeitangabe - in Hinblick auf den Anwendungsfall - an. So wäre beispielsweise im Rahmen einer Epochenbeschreibung eine Jahresangabe "sehr präzise" und eine Angabe eines Jahrtausends "sehr unpräzise". Selbige Einschränkungen wie oben beschrieben in Hinblick auf die Likert-Skalen gelten auch hier. Die Einschätzung der Präzision muss ein Algorithmus liefern.

Der \texttt{Discovery::locatorLocator} ist eine Klasse mit Elementen, die auf den genauen Fundort einer Georeferenz in einem Web-Dokument (oder ähnlichem) verweist. Ziel hierbei ist, im späteren Verlauf den Ursprung der Fundstelle maschinell oder durch den Menschen nachverfolgbar (oder belegbar, beispielsweise in einem journalistischen Anwendungsszenario) zu machen. Konkret beinhaltet die \texttt{Discovery::Locator}-Klasse die Felder \texttt{url} um mit dort eine Resource im Internet unabhängig von einem konkreten Schema referenzieren zu können, sowie ein \texttt{byte\_offset}, um die konkrete Stelle im Dokument, das durch die URL referenziert ist, anzuzeigen, als auch einen \texttt{timestamp}, um den Zeitpunkt des Fundes festzuhalten.
  
Es existiert weiterhin ein optionales Feld \texttt{proof}, das die Fund-Webresource base64-enkodiert in Kopie vorhält.

Alle oben genannten Klassen enthalten beliebig weitere Attribute, die vom Namen her unterschiedlich zu den bereits vorgestellten Attributen sein müssen. Hier hat der Entwickler die Möglichkeit anwendungsspezifische Daten in die Datenstruktur einzubetten um beispielsweise Geokodierungsschritte oder Umwandlungen einzusparen oder zusätzliche Meta-Informationen mitzuliefern.

Den übergeordneten Datencontainer bildet die \texttt{Reference}-Klasse, sie hält zwei Attribute: Das \texttt{location}-Attribut hält eine Instanz der \texttt{OSM::Location}-Klasse, das \texttt{discoveries}-Attribut hält eine Liste von \texttt{Discovery}-Instanzen vor. Eine Georeferenz, also eine Instanz der hier beschriebenen  \texttt{Reference}-Klasse, liefert dementsprechend einen Verweis auf einen geografischen, real existierenden Ort auf der Welt und eine Liste von Hinweisen, wie und wo diese Referenz durch etwaige Suchalgorithmen gefunden und in den entsprechend referenziert wurde.

Die \texttt{OSM::Location}-Instanz stellt eine stark vereinfachte Abstraktion einer OpenStreetMaps \texttt{Node}\cite{OSMnode} dar. Im OpenStreetMaps-Datenmodell repräsentieren Nodes einen distinkten Punkt, der innerhalb von OpenStreetMaps einzigartig ist und mit Positionsdaten versehen ist. In unserem Datenmodell sind die exakten Geokoordinaten nicht von essentieller Wichtigkeit (weil der Fokus eher auf Städten, Regionen oder Ländern liegt, wichtig ist uns die Bennenbarkeit eines Ortes, nicht die Lage), daher persistieren wir in der \texttt{OSM::Location}-Instanz lediglich die \texttt{node\_id}, einen menschenlesbaren Namen (Attribut \texttt{human\_readable\_name}) und den \textit{Administration-Level}-Wert von OpenStreetMaps\cite{OSMadminlevel} (Attribut \texttt{administrative\_level}). Mit dieser Angabe kann bestimmt werden, ob es sich bei der benannten Georeferenz etwa um einen Kontinent, einen Staat, ein Bundesland oder eine Stadt handelt.

Weiterhin enthält die \texttt{Reference}-Klasse wie erwähnt eine Liste von \texttt{Discovery}-Instanzen. In einer \texttt{Discovery}-Instanz wird festgehalten, \textit{wo} (Attribut: \texttt{source}, Instanz einer \texttt{Discovery::Source}-Klasse) und in welchem \textit{zeitlichen Rahmen} (Attribut \texttt{time}, Instanz einer \texttt{Discovery::Time}-Klasse) diese Georeferenz an dem durch die \texttt{OSM::Location}-Klasse konkret festgelegten Ort referenziert wird. Weiterhin gibt es eine \texttt{Discovery::Locator}-Klasse, die die Rückverfolgbarkeit der Quelle sicherstellt. Die einzelnen Discovery-Komponenten werden im Folgenden noch genauer geschrieben.

Die \texttt{Discovery::Source}-Klasse ist ein Container für zwei Attribute: Zum einen hält ein \texttt{identifier} eine Referenz auf eine konkrete Datenquelle vor, beispielsweise \textit{dbp} für DBpedia. Zum anderen hält der \texttt{trustworthiness}-Wert eine Einschätzung für die Zuverlässigkeit der Quelle vor. Beide Attribute ergeben sich aus dem Anwendungsfall und müssen pro Durchgang konfigurierbar gehalten sein. Der \texttt{trustworthiness}-Wert enthält Werte einer Likert-Skala (von "Sehr vertrauenswürdig" bis "Nahezu nicht vertrauenswürdig"), intern können die Werte dieser Skala auf Ganzzahlen (oder Enumeration-Werte) abgebildet werden, allerdings verbietet sich das Rechnen auf Likert-Zahlen.

Die \texttt{Discovery::Time}-Klasse ist ein Container für die beiden Attribute \texttt{representation} und \texttt{estimated\_precision}. Der erste Wert gibt eine konkrete, wörtliche Fundstelle einer Zeitangabe wieder (also beispielsweise "1990ies", "1997" oder "1990-1996"). Der zweite Wert gibt auf einer Likert-Skala (von "sehr präzise" bis "sehr unpräzise") eine Einschätzung über die Genauigkeit der Zeitangabe - in Hinblick auf den Anwendungsfall - an. So wäre beispielsweise im Rahmen einer Epochenbeschreibung eine Jahresangabe "sehr präzise" und eine Angabe eines Jahrtausends "sehr unpräzise". Selbige Einschränkungen wie oben beschrieben in Hinblick auf die Likert-Skalen gelten auch hier. Die Einschätzung der Präzision muss ein Algorithmus liefern.

Der \texttt{Discovery::locatorLocator} ist eine Klasse mit Elementen, die auf den genauen Fundort einer Georeferenz in einem Web-Dokument (oder ähnlichem) verweist. Ziel hierbei ist, im späteren Verlauf den Ursprung der Fundstelle maschinell oder durch den Menschen nachverfolgbar (oder belegbar, beispielsweise in einem journalistischen Anwendungsszenario) zu machen. Konkret beinhaltet die \texttt{Discovery::Locator}-Klasse die Felder \texttt{url} um mit dort eine Resource im Internet unabhängig von einem konkreten Schema referenzieren zu können, sowie ein \texttt{byte\_offset}, um die konkrete Stelle im Dokument, das durch die URL referenziert ist, anzuzeigen, als auch einen \texttt{timestamp}, um den Zeitpunkt des Fundes festzuhalten.
  
Es existiert weiterhin ein optionales Feld \texttt{proof}, das die Fund-Webresource base64-enkodiert in Kopie vorhält.

Alle oben genannten Klassen enthalten beliebig weitere Attribute, die vom Namen her unterschiedlich zu den bereits vorgestellten Attributen sein müssen. Hier hat der Entwickler die Möglichkeit anwendungsspezifische Daten in die Datenstruktur einzubetten um beispielsweise Geokodierungsschritte oder Umwandlungen einzusparen oder zusätzliche Meta-Informationen mitzuliefern.


Den übergeordneten Datencontainer bildet die \texttt{Reference}-Klasse, sie hält zwei Attribute: Das \texttt{location}-Attribut hält eine Instanz der \texttt{OSM::Location}-Klasse, das \texttt{discoveries}-Attribut hält eine Liste von \texttt{Discovery}-Instanzen vor. Eine Georeferenz, also eine Instanz der hier beschriebenen  \texttt{Reference}-Klasse, liefert dementsprechend einen Verweis auf einen geografischen, real existierenden Ort auf der Welt und eine Liste von Hinweisen, wie und wo diese Referenz durch etwaige Suchalgorithmen gefunden und in den entsprechend referenziert wurde.

Die \texttt{OSM::Location}-Instanz stellt eine stark vereinfachte Abstraktion einer OpenStreetMaps \texttt{Node}\cite{OSMnode} dar. Im OpenStreetMaps-Datenmodell repräsentieren Nodes einen distinkten Punkt, der innerhalb von OpenStreetMaps einzigartig ist und mit Positionsdaten versehen ist. In unserem Datenmodell sind die exakten Geokoordinaten nicht von essentieller Wichtigkeit (weil der Fokus eher auf Städten, Regionen oder Ländern liegt, wichtig ist uns die Bennenbarkeit eines Ortes, nicht die Lage), daher persistieren wir in der \texttt{OSM::Location}-Instanz lediglich die \texttt{node\_id}, einen menschenlesbaren Namen (Attribut \texttt{human\_readable\_name}) und den \textit{Administration-Level}-Wert von OpenStreetMaps\cite{OSMadminlevel} (Attribut \texttt{administrative\_level}). Mit dieser Angabe kann bestimmt werden, ob es sich bei der benannten Georeferenz etwa um einen Kontinent, einen Staat, ein Bundesland oder eine Stadt handelt.

Weiterhin enthält die \texttt{Reference}-Klasse wie erwähnt eine Liste von \texttt{Discovery}-Instanzen. In einer \texttt{Discovery}-Instanz wird festgehalten, \textit{wo} (Attribut: \texttt{source}, Instanz einer \texttt{Discovery::Source}-Klasse) und in welchem \textit{zeitlichen Rahmen} (Attribut \texttt{time}, Instanz einer \texttt{Discovery::Time}-Klasse) diese Georeferenz an dem durch die \texttt{OSM::Location}-Klasse konkret festgelegten Ort referenziert wird. Weiterhin gibt es eine \texttt{Discovery::Locator}-Klasse, die die Rückverfolgbarkeit der Quelle sicherstellt. Die einzelnen Discovery-Komponenten werden im Folgenden noch genauer geschrieben.

Die \texttt{Discovery::Source}-Klasse ist ein Container für zwei Attribute: Zum einen hält ein \texttt{identifier} eine Referenz auf eine konkrete Datenquelle vor, beispielsweise \textit{dbp} für DBpedia. Zum anderen hält der \texttt{trustworthiness}-Wert eine Einschätzung für die Zuverlässigkeit der Quelle vor. Beide Attribute ergeben sich aus dem Anwendungsfall und müssen pro Durchgang konfigurierbar gehalten sein. Der \texttt{trustworthiness}-Wert enthält Werte einer Likert-Skala (von "Sehr vertrauenswürdig" bis "Nahezu nicht vertrauenswürdig"), intern können die Werte dieser Skala auf Ganzzahlen (oder Enumeration-Werte) abgebildet werden, allerdings verbietet sich das Rechnen auf Likert-Zahlen.

Die \texttt{Discovery::Time}-Klasse ist ein Container für die beiden Attribute \texttt{representation} und \texttt{estimated\_precision}. Der erste Wert gibt eine konkrete, wörtliche Fundstelle einer Zeitangabe wieder (also beispielsweise "1990ies", "1997" oder "1990-1996"). Der zweite Wert gibt auf einer Likert-Skala (von "sehr präzise" bis "sehr unpräzise") eine Einschätzung über die Genauigkeit der Zeitangabe - in Hinblick auf den Anwendungsfall - an. So wäre beispielsweise im Rahmen einer Epochenbeschreibung eine Jahresangabe "sehr präzise" und eine Angabe eines Jahrtausends "sehr unpräzise". Selbige Einschränkungen wie oben beschrieben in Hinblick auf die Likert-Skalen gelten auch hier. Die Einschätzung der Präzision muss ein Algorithmus liefern.

Der \texttt{Discovery::locatorLocator} ist eine Klasse mit Elementen, die auf den genauen Fundort einer Georeferenz in einem Web-Dokument (oder ähnlichem) verweist. Ziel hierbei ist, im späteren Verlauf den Ursprung der Fundstelle maschinell oder durch den Menschen nachverfolgbar (oder belegbar, beispielsweise in einem journalistischen Anwendungsszenario) zu machen. Konkret beinhaltet die \texttt{Discovery::Locator}-Klasse die Felder \texttt{url} um mit dort eine Resource im Internet unabhängig von einem konkreten Schema referenzieren zu können, sowie ein \texttt{byte\_offset}, um die konkrete Stelle im Dokument, das durch die URL referenziert ist, anzuzeigen, als auch einen \texttt{timestamp}, um den Zeitpunkt des Fundes festzuhalten.
  
Es existiert weiterhin ein optionales Feld \texttt{proof}, das die Fund-Webresource base64-enkodiert in Kopie vorhält.

Alle oben genannten Klassen enthalten beliebig weitere Attribute, die vom Namen her unterschiedlich zu den bereits vorgestellten Attributen sein müssen. Hier hat der Entwickler die Möglichkeit anwendungsspezifische Daten in die Datenstruktur einzubetten um beispielsweise Geokodierungsschritte oder Umwandlungen einzusparen oder zusätzliche Meta-Informationen mitzuliefern.

